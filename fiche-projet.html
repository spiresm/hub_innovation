<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Fiche Projet</title> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        :root {
            --bs-primary: #007bff;
            --bs-light: #f8f9fa;
            --bs-success: #28a745;
            --bs-warning: #ffc107;
            --bs-info: #17a2b8;
            --bs-danger: #dc3545;
            --bs-background-light: #f1f2f7; /* Variable ajoutée pour le fond unifié */
        }
        /* Correction de la typographie et du fond */
        body { 
            background-color: var(--bs-background-light); 
            font-family: 'Poppins', sans-serif; 
        }
        .navbar { 
            background-color: white; 
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,.05); 
        }

        .project-detail-header {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,.1);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }
        
        .header-illustration {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 3px solid var(--bs-primary);
        }

        .header-illustration-placeholder {
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
            color: #ccc;
        }

        .info-block {
            background: white;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,.1);
            margin-bottom: 1.5rem;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #6c757d; 
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 0.75rem;
            flex-shrink: 0;
        }
        /* Customisation des avatars basées sur la première lettre des initiales pour la démo */
        .avatar[data-initials="L"] { background-color: var(--bs-primary); } /* LEL/Léa LELOUCHE */
        .avatar[data-initials="H"] { background-color: var(--bs-success); } /* HMA/Hélène MARCOUX */
        .avatar[data-initials="T"] { background-color: var(--bs-info); }    /* TGA/Thierry GAUDIER */
        .avatar[data-initials="A"] { background-color: var(--bs-warning); } /* ABRU/Alice BRUN */
        .avatar[data-initials="D"] { background-color: #6f42c1; } /* DUB/Denis DUBREUIL */
        .avatar[data-initials="R"] { background-color: var(--bs-danger); } /* RMT/Renaud MARTOU */
        .avatar[data-initials="V"] { background-color: #fd7e14; } /* VAH/VGU */
        /* Règle spécifique pour "A DEFINIR" */
        .avatar[data-initials="A"][data-initials^="A "], .avatar[data-initials="À"] { 
            background-color: #6c757d; /* Gris pour les inconnus/À définir */
        } 
    </style>
</head>
<body>

    <div class="modal fade" id="newProjectModal" tabindex="-1" aria-labelledby="newProjectModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="newProjectModalLabel"><i class="fas fa-plus-circle me-2"></i> Ajouter un Nouveau Projet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form name="nouveau_projet" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/success" enctype="multipart/form-data">
                    <input type="hidden" name="form-name" value="nouveau_projet" />
                    <p class="d-none">
                        <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
                    </p>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="projectNom" class="form-label fw-bold">Nom du Projet *</label>
                                    <input type="text" class="form-control" id="projectNom" name="nom" required>
                                </div>
                                <div class="mb-3">
                                    <label for="projectResponsable" class="form-label fw-bold">Responsable (Initiales) *</label>
                                    <input type="text" class="form-control" id="projectResponsable" name="responsable" placeholder="Ex: LEL, HMA" required>
                                </div>
                                <div class="mb-3">
                                    <label for="projectContribution" class="form-label fw-bold">Domaine de Contribution *</label>
                                    <select id="projectContribution" class="form-select" name="contribution" required>
                                        <option value="">Sélectionner...</option>
                                        <option value="Stratégie">Stratégie</option>
                                        <option value="Projet">Projet</option>
                                        <option value="Veille">Veille</option>
                                        <option value="Marketing">Marketing</option>
                                        <option value="Diffusion">Diffusion</option>
                                        <option value="Cloud">Cloud</option>
                                        <option value="IA">IA</option>
                                        <option value="Process">Process</option>
                                        <option value="Contenus">Contenus</option>
                                        <option value="Workflows">Workflows</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="projectStatut" class="form-label fw-bold">Statut Initial *</label>
                                    <select id="projectStatut" class="form-select" name="statut" required>
                                        <option value="Idée à Analyser" selected>Idée / à Analyser</option>
                                        <option value="POC">POC</option>
                                        <option value="En cours">En cours</option>
                                        <option value="Validé">Validé</option>
                                        <option value="Non démarré">Non démarré / Parking</option>
                                        <option value="Clôturée">Clôturée</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="projectDescriptionCourte" class="form-label fw-bold">Description Courte *</label>
                                    <input type="text" class="form-control" id="projectDescriptionCourte" name="description_courte" placeholder="Max 100 caractères" required>
                                </div>
                                <div class="mb-3">
                                    <label for="projectDescriptionDetaillee" class="form-label fw-bold">Description Détaillée</label>
                                    <textarea class="form-control" id="projectDescriptionDetaillee" name="description_detaillee" rows="3"></textarea>
                                </div>

                                <div class="mb-3">
                                    <label for="projectVignette" class="form-label fw-bold">Vignette d'Illustration (Image)</label>
                                    <input type="file" class="form-control" id="projectVignette" name="vignette" accept="image/*">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="projectMotsCles" class="form-label fw-bold">Mots-clés (séparés par des virgules)</label>
                                    <input type="text" class="form-control" id="projectMotsCles" name="mots_cles" placeholder="Ex: IA, Cloud, Veille">
                                </div>
                                <div class="mb-3">
                                    <label for="projectEcheance" class="form-label fw-bold">Échéance (Date)</label>
                                    <input type="date" class="form-control" id="projectEcheance" name="echeance">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane me-2"></i> Soumettre le Projet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid px-5">
            <a class="navbar-brand text-primary fw-bold fs-4" href="index.html">
                <i class="fas fa-rocket me-2"></i> Tech Innovation Hub
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i> Accueil</a></li>
                    <li class="nav-item"><a class="nav-link active fw-bold text-primary" href="registre.html"><i class="fas fa-book-open me-1"></i> Explorer les Projets</a></li>
                    <li class="nav-item"><a class="nav-link" href="equipe.html"><i class="fas fa-users me-1"></i> Équipe</a></li> 
                    <li class="nav-item ms-3"><a class="btn btn-primary" href="#" data-bs-toggle="modal" data-bs-target="#newProjectModal"><i class="fas fa-plus me-2"></i> Ajouter un Projet</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-lg pt-4">

        <div class="d-flex justify-content-end align-items-center mb-3">
            <span id="project-id-top-display" class="text-secondary small me-2"></span>
            <span id="project-status-badge"></span>
        </div>
        <div class="row">
            <div class="col-lg-8">
                
                <div class="project-detail-header">
                    <div id="project-header-image" class="text-center">
                        <div class="header-illustration-placeholder">
                            <i class="fas fa-rocket fa-4x mb-3"></i>
                            <p class="mb-0">Chargement de l'illustration...</p>
                        </div>
                        </div>
                    <div class="p-4">
                        <h1 id="project-nom" class="fw-bold text-dark"></h1>
                        <p id="project-description-courte" class="lead text-muted"></p>

                        <h6 class="mt-4 mb-2">Progression du Projet</h6>
                        <div class="progress" role="progressbar" aria-label="Progression" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 20px;">
                            <div id="progress-bar-fill" class="progress-bar" style="width: 0%;">
                                <span id="progress-bar-text">0%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-block">
                    <h4><i class="fas fa-align-left me-2 text-primary"></i> Description Détaillée</h4>
                    <p id="project-description-detaillee" class="text-secondary"></p>
                </div>
                
                <div class="info-block">
                    <h4><i class="fas fa-tags me-2 text-primary"></i> Mots-clés</h4>
                    <div id="keywords-list">
                        </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="info-block">
                    <h4><i class="fas fa-info-circle me-2 text-primary"></i> Détails Clés</h4>
                    <ul class="list-group list-group-flush small">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong><i class="fas fa-user-tie me-2"></i> Responsable:</strong>
                            <span id="project-responsable" class="fw-bold"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong><i class="fas fa-layer-group me-2"></i> Contribution:</strong>
                            <span id="project-contribution"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong><i class="fas fa-calendar-alt me-2"></i> Démarrage:</strong>
                            <span id="project-date-demarrage">N/A</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong><i class="fas fa-hourglass-end me-2"></i> Fin Prévue:</strong>
                            <span id="project-echeance">N/A</span>
                        </li>
                    </ul>
                </div>
                <div class="info-block">
                    <h4><i class="fas fa-users me-2 text-primary"></i> Équipe Projet</h4>
                    <div id="team-members-list">
                        </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // 1. DÉFINITION DES DONNÉES DE PROJET (Base de données corrigée)
        const projectsData = [
            {
                id: "H25001",
                nom: "Jean-Paul IA",
                description_courte: "Prototype d'assistant IA pour l'aide à la décision stratégique.",
                statut: "En cours",
                responsable: "LEL",
                contribution: "Stratégie",
                echeance: "30/06/2026",
                icon: "fas fa-brain",
                image_id: "images/jean_paul_ia.jpg",
                progression: 60,
                description_detaillee: "Le projet Jean-Paul IA vise à intégrer un grand modèle de langage (LLM) dans l'environnement intranet pour faciliter l'accès à la documentation technique, la recherche rapide et la génération de résumés complexes. L'objectif est d'améliorer l'efficacité des équipes de support et de développement en fournissant des réponses instantanées et précises basées sur notre base de connaissances interne. Le POC initial se concentre sur l'indexation des documents de production.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Chef de Projet"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Coach IA"},
                    {initiales: "TGA", nom: "Thierry GAUDIER", role: "Développeur Principal"}
                ],
                mots_cles: ["IA", "LLM", "Documentation", "Intranet", "Technologie"]
            },
            {
                id: "H25002",
                nom: "Cuno.IO",
                description_courte: "Émuler un stockage local depuis un bucket S3 pour la veille technique.",
                statut: "Terminé",
                responsable: "DUB",
                contribution: "Veille",
                echeance: "31/03/2025",
                icon: "fas fa-cloud-download-alt",
                image_id: "images/cuno_io.jpg",
                progression: 100,
                description_detaillee: "Mise en place d'une solution permettant aux développeurs de traiter des données stockées dans un bucket S3 comme s'il s'agissait d'un volume de stockage local. Ceci permet d'optimiser les temps de développement et de test en évitant les longs téléchargements de données massives. Le POC a été validé et la solution est intégrée en production.",
                equipe: [
                    {initiales: "DUB", nom: "Denis DUBREUIL", role: "Expert développement d'applications"},
                    {initiales: "RMT", nom: "Renaud MARTOU", role: "Délégué technique à la numérisation"}
                ],
                mots_cles: ["Cloud", "S3", "Veille", "Stockage", "Développement"]
            },
            {
                id: "H25003",
                nom: "Kit d'accélération Web",
                description_courte: "Création d'un ensemble de templates pour automatiser la création et le déploiement des sites vitrines.",
                statut: "Terminé",
                responsable: "ABRU",
                contribution: "Marketing",
                echeance: "20/11/2025",
                icon: "fas fa-code-branch",
                image_id: "images/kit_web.jpg",
                progression: 100,
                description_detaillee: "Développement d'un ensemble de templates pour automatiser la création et le déploiement des sites vitrines (marketing) avec un minimum d'intervention manuelle. L'objectif d'accélération de la mise sur le marché a été atteint. Les outils sont désormais en production.",
                equipe: [
                    {initiales: "ABRU", nom: "Alice BRUN", role: "Responsable Marketing"},
                    {initiales: "TGA", nom: "Thierry GAUDIER", role: "Intégrateur"}
                ],
                mots_cles: ["Marketing", "Automatisation", "CI/CD", "Web"]
            },
            {
                id: "H25004",
                nom: "Archivage Intelligent",
                description_courte: "Utilisation de l'IA pour catégoriser et indexer automatiquement les archives numériques.",
                statut: "Parking",
                responsable: "TGA",
                contribution: "IA",
                echeance: "30/06/2025",
                icon: "fas fa-archive",
                image_id: "images/archivage_intelligent.jpg",
                progression: 20,
                description_detaillee: "Un projet pilote qui vise à explorer l'utilisation d'algorithmes de machine learning pour la reconnaissance de motifs et l'extraction de métadonnées complexes à partir de documents archivés. L'objectif est de rendre les fonds d'archives plus accessibles et recherchables. Le projet est actuellement en pause faute de ressources.",
                equipe: [
                    {initiales: "TGA", nom: "Thierry GAUDIER", role: "Référent IA"},
                    {initiales: "VAH", nom: "Valentina ABURTO HERMOSILLA", role: "Chargé de gestion"}
                ],
                mots_cles: ["Archive", "IA", "Indexation", "Contenus"]
            },
            {
                id: "H25005",
                nom: "Diffusion Légère Mobile",
                description_courte: "Valider l'utilisation d'éléments mobiles dans le contexte de diffusion.",
                statut: "POC",
                responsable: "LEL",
                contribution: "Diffusion",
                echeance: "01/07/2025",
                icon: "fas fa-mobile-alt",
                image_id: "images/connection_mobile.jpg",
                progression: 40,
                description_detaillee: "Mener un POC (Proof of Concept) pour évaluer la fiabilité et la qualité de la diffusion en direct via des équipements légers et mobiles (smartphones, petits émetteurs 4G/5G). L'étude inclut des tests de latence et de robustesse du signal en conditions réelles. Un rapport final est attendu pour l'été.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Chef de Projet"},
                    {initiales: "VGU", nom: "Vincent GUSTIN", role: "Délégué technique"}
                ],
                mots_cles: ["Mobile", "Diffusion", "4G/5G", "POC"]
            },
            {
                id: "H25006",
                nom: "Espace de collaboration 'HIT'",
                description_courte: "Mise en place d'un espace de travail collaboratif pour l'équipe HIT sur Sharepoint.",
                statut: "Validé",
                responsable: "ABRU",
                contribution: "Projet",
                echeance: "N/A",
                icon: "fas fa-handshake",
                image_id: "images/collaboration_space.jpg",
                progression: 100,
                description_detaillee: "Création de l'espace 'Hub Innovation Technos' sur Sharepoint, incluant des calendriers partagés, des bibliothèques de documents et un suivi des actions. L'espace sert de point central pour la gestion interne et la communication de l'équipe.",
                equipe: [
                    {initiales: "ABRU", nom: "Alice BRUN", role: "Chef de projet Infra"},
                    {initiales: "VAH", nom: "Valentina ABURTO HERMOSILLA", role: "Chargé de gestion"}
                ],
                mots_cles: ["Sharepoint", "Collaboration", "Process", "Projet"]
            },
            {
                id: "H25007",
                nom: "Normalisation Audio",
                description_courte: "Standardisation des niveaux sonores dans les contenus avant diffusion (norme R128).",
                statut: "En cours",
                responsable: "A DEFINIR",
                contribution: "Process",
                echeance: "30/01/2026",
                icon: "fas fa-volume-up",
                image_id: "images/audio_norm.jpg",
                progression: 30,
                description_detaillee: "Le projet vise à intégrer de nouveaux outils et processus pour assurer la conformité de tous les contenus audio à la norme R128 (Loudness EBU R128) avant leur diffusion, garantissant une expérience sonore uniforme pour l'utilisateur final.",
                equipe: [
                    {initiales: "A DEFINIR", nom: "À définir", role: "Chef de Projet"},
                    {initiales: "A DEFINIR", nom: "À définir", role: "Expert Audio"}
                ],
                mots_cles: ["Audio", "R128", "Loudness", "Production", "Conformité"]
            },
            {
                id: "H25008",
                nom: "MIA (LLM Co-pilot)",
                description_courte: "Utilisation d'un agent IA type copilot et d'un répertoire dans sharepoint pour valider le concept.",
                statut: "POC",
                responsable: "LEL",
                contribution: "Stratégie",
                echeance: "30/08/2025",
                icon: "fas fa-robot",
                image_id: "images/mia_llm.jpg",
                progression: 80,
                description_detaillee: "Mise en place d'un chatbot 'MIA' basé sur un LLM (Large Language Model) capable d'interagir avec les utilisateurs pour répondre à des questions spécifiques sur la plateforme MediaSphere, simulant un co-pilote d'assistance technique. Le projet est en phase de test utilisateur avancé.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Chef de Projet"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Expert IA"},
                    {initiales: "TGA", nom: "Thierry GAUDIER", role: "Développeur"}
                ],
                mots_cles: ["IA", "LLM", "Chatbot", "Co-pilot", "Support"]
            },
            {
                id: "H25009",
                nom: "Ligne éditoriale du Hub Innovation",
                description_courte: "Définition de la stratégie de communication externe et interne du Hub.",
                statut: "Terminé",
                responsable: "AHH",
                contribution: "Marketing",
                echeance: "N/A",
                icon: "fas fa-bullhorn",
                image_id: "images/editorial_line.jpg",
                progression: 100,
                description_detaillee: "Travail sur la création d'une charte éditoriale complète, y compris le ton, le style, les canaux et la fréquence des communications. Cela inclut le contenu des newsletters, des présentations et des mises à jour sur l'intranet.",
                equipe: [
                    {initiales: "AHH", nom: "Aurélien HUGO HAMELIN", role: "Chef de Projets Innovation"},
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Manager - Hub Innovation Technos"}
                ],
                mots_cles: ["Communication", "Marketing", "Stratégie", "Interne"]
            },
            {
                id: "H25010",
                nom: "Migration des Outils de production",
                description_courte: "Évaluation de la faisabilité et du coût de la migration des outils de production vers le Cloud.",
                statut: "Idée à Analyser",
                responsable: "ABRU",
                contribution: "Cloud",
                echeance: "N/A",
                icon: "fas fa-cloud-upload-alt",
                image_id: "images/cloud_migration.jpg",
                progression: 0,
                description_detaillee: "Analyse approfondie de l'infrastructure actuelle de production et identification des dépendances techniques et des contraintes budgétaires pour une transition vers une architecture Cloud native ou hybride. Le but est d'améliorer la flexibilité et la scalabilité.",
                equipe: [
                    {initiales: "ABRU", nom: "Alice BRUN", role: "Architecte Solution"},
                    {initiales: "RMT", nom: "Renaud MARTOU", role: "Expert Migration"}
                ],
                mots_cles: ["Cloud", "Migration", "Production", "Scalabilité"]
            },
            {
                id: "H25011",
                nom: "Les yeux de Samia",
                description_courte: "Un projet d'IA pour la reconnaissance d'éléments visuels dans les archives photos.",
                statut: "POC",
                responsable: "HMA",
                contribution: "IA",
                echeance: "30/08/2025",
                icon: "fas fa-video",
                image_id: "images/yeux_de_samia.jpg",
                progression: 60,
                description_detaillee: "Développement d'un système de vision par ordinateur ('Les yeux de Samia') dans les studios pour analyser les scènes, détecter les mouvements et les positions, afin de générer ou de proposer automatiquement des presets de caméra. Le POC est en phase d'expérimentation en studio de répétition.",
                equipe: [
                    {initiales: "A DEFINIR", nom: "À définir", role: "Chef de Projet"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Expert Vision"}
                ],
                mots_cles: ["Vision", "Studio", "IA", "Caméra", "Presets"]
            },
            {
                id: "H25012",
                nom: "Reporting Portefeuille",
                description_courte: "Créer, challenger des affichages de reporting pour la gouvernance de nos portefeuilles de projet",
                statut: "POC",
                responsable: "ABRU",
                contribution: "Projet",
                echeance: "N/A",
                icon: "fas fa-chart-line",
                image_id: "images/portfolio_dashboard.jpg",
                progression: 40,
                description_detaillee: "Conception d'un tableau de bord (Dashboard) pour la gouvernance, consolidant les données de planification et de portefeuille de projets. Le POC vise à tester la pertinence des indicateurs et l'ergonomie de l'outil de visualisation pour les décideurs.",
                equipe: [
                    {initiales: "ABRU", nom: "Alice BRUN", role: "PMO"},
                    {initiales: "VAH", nom: "Valentina ABURTO HERMOSILLA", role: "Chargée de gestion"}
                ],
                mots_cles: ["Reporting", "Portefeuille", "Projet", "Gouvernance"]
            },
            {
                id: "H25013",
                nom: "Rédaction des P&P Contenus",
                description_courte: "Mise à jour et clarification des procédures et politiques de gestion de contenus.",
                statut: "Terminé",
                responsable: "VAH",
                contribution: "Contenus",
                echeance: "N/A",
                icon: "fas fa-file-alt",
                image_id: "images/procedure_policy.jpg",
                progression: 100,
                description_detaillee: "Révision complète des documents de Procédures et Politiques (P&P) relatifs à l'acquisition, la gestion et la diffusion des contenus. L'objectif est de s'assurer de la clarté, de la conformité et de l'alignement avec les nouvelles plateformes techniques.",
                equipe: [
                    {initiales: "VAH", nom: "Valentina ABURTO HERMOSILLA", role: "Chargée de gestion"},
                    {initiales: "AHH", nom: "Aurélien HUGO HAMELIN", role: "Coordinateur"}
                ],
                mots_cles: ["Contenus", "Politique", "Procédure", "Documentation"]
            },
            {
                id: "H25014",
                nom: "Chatbot Vocal 2.0",
                description_courte: "Évolution du chatbot pour intégrer la reconnaissance vocale et améliorer le FCR (First Call Resolution).",
                statut: "Idée à Analyser",
                responsable: "HMA",
                contribution: "IA",
                echeance: "N/A",
                icon: "fas fa-comments",
                image_id: "images/voice_chatbot.jpg",
                progression: 0,
                description_detaillee: "Recherche sur l'intégration d'un moteur de reconnaissance vocale et de synthèse vocale au chatbot existant. L'accent est mis sur l'amélioration du taux de résolution au premier contact (FCR) pour une meilleure satisfaction client/utilisateur.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Chef de Projet"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Expert IA"}
                ],
                mots_cles: ["Chatbot", "Vocal", "FCR", "IA", "Recherche"]
            },
            {
                id: "H25015",
                nom: "COMPL AI",
                description_courte: "Disposer d'un outil pour mesurer la conformité des LLM que nous utilisons par rapport à l'AI Act.",
                statut: "Non démarré",
                responsable: "A DEFINIR",
                contribution: "Stratégie",
                echeance: "N/A",
                icon: "fas fa-gavel",
                image_id: "images/compl_ai.jpg",
                progression: 0,
                description_detaillee: "Disposer d'un outil pour mesurer la conformité des LLM que nous utilisons par rapport à AI Act. L'objectif est de proposer une suite d'évaluations orientée LLM, d'offrir une première interprétation technique compréhensive de l'IA ACT.",
                equipe: [
                    {initiales: "A DEFINIR", nom: "À définir", role: "Responsable Conformité"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Expert IA"}
                ],
                mots_cles: ["IA Act", "Conformité", "Réglementation", "LLM", "Stratégie"]
            },
            {
                id: "H25016",
                nom: "WAIOH - HIT",
                description_courte: "Analyse des solutions de voix de synthèse",
                statut: "POC",
                responsable: "LEL",
                contribution: "Veille",
                echeance: "N/A",
                icon: "fas fa-volume-up",
                image_id: "images/analyse_voix_synth.jpg",
                progression: 10,
                description_detaillee: "Étude et évaluation de la qualité, du coût et de l'intégration technique des différentes solutions de synthèse vocale disponibles sur le marché pour l'automatisation des voix-off.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Chef de Projet"},
                    {initiales: "HMA", nom: "Hélène MARCOUX", role: "Expert IA"}
                ],
                mots_cles: ["Synthèse Vocale", "Veille", "Audio", "IA"]
            },
            {
                id: "H25999",
                nom: "Remonter budget sur la veille",
                description_courte: "Permettre de mettre du budget sur la veille pour des expérimentations rapides.",
                statut: "Parking",
                responsable: "LEL",
                contribution: "Veille",
                echeance: "N/A",
                icon: "fas fa-euro-sign",
                image_id: "images/budget_insight.jpg",
                progression: 0,
                description_detaillee: "Proposition stratégique visant à sécuriser une enveloppe budgétaire dédiée aux initiatives de veille technologique. L'objectif est de pouvoir financer des POCs très rapides et peu coûteux sans passer par le cycle complet de budgétisation des projets. En attente de validation de la direction.",
                equipe: [
                    {initiales: "LEL", nom: "Léa LELOUCHE", role: "Porteur du sujet"},
                    {initiales: "ABRU", nom: "Alice BRUN", role: "PMO"}
                ],
                mots_cles: ["Budget", "Veille", "Financement"]
            }
        ];

        // 2. FONCTION POUR RÉCUPÉRER UN PROJET PAR ID
        function getProjectById(id) {
            return projectsData.find(project => project.id === id);
        }

        // 3. FONCTION PRINCIPALE POUR CHARGER LES DÉTAILS DU PROJET
        function loadProjectDetails() {
            // Récupère l'ID du projet depuis l'URL (ex: fiche-projet.html?id=H25001)
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');

            if (!projectId) {
                // Gérer le cas où aucun ID n'est fourni
                document.getElementById('project-nom').textContent = "Erreur: Projet non spécifié";
                document.getElementById('project-description-courte').textContent = "Veuillez naviguer depuis la page de registre.";
                return;
            }

            const project = getProjectById(projectId);

            if (!project) {
                // Gérer le cas où l'ID n'est pas trouvé
                document.getElementById('project-nom').textContent = `Erreur: Projet ${projectId} introuvable`;
                document.getElementById('project-description-courte').textContent = "L'identifiant du projet ne correspond à aucune entrée.";
                return;
            }
            
            // 4. MISE À JOUR DES INFORMATIONS GÉNÉRALES
            document.getElementById('page-title').textContent = `Fiche Projet: ${project.nom}`;
            document.getElementById('project-nom').textContent = project.nom;
            document.getElementById('project-description-courte').textContent = project.description_courte;
            document.getElementById('project-description-detaillee').textContent = project.description_detaillee;
            document.getElementById('project-date-demarrage').textContent = project.date_demarrage || 'N/A';
            document.getElementById('project-echeance').textContent = project.echeance || 'N/A';
            document.getElementById('project-contribution').textContent = project.contribution;
            document.getElementById('project-id-top-display').textContent = `ID: ${project.id}`;
            
            // 4.1 MISE À JOUR DU RESPONSABLE (Nom complet + Initiales)
            const responsableMember = project.equipe.find(member => member.initiales === project.responsable);
            if (responsableMember) {
                 document.getElementById('project-responsable').textContent = `${responsableMember.nom} (${project.responsable})`;
            } else {
                 document.getElementById('project-responsable').textContent = `${project.responsable} (Nom À définir)`;
            }

            // 4.2 GESTION DU STATUT
            const statusBadge = document.getElementById('project-status-badge');
            statusBadge.textContent = project.statut;
            statusBadge.className = 'badge rounded-pill';
            
            let statusClass;
            switch (project.statut) {
                case 'En cours': statusClass = 'bg-primary'; break;
                case 'Terminé': statusClass = 'bg-success'; break;
                case 'POC': statusClass = 'bg-info'; break;
                case 'Parking':
                case 'Non démarré': statusClass = 'bg-secondary'; break;
                case 'Idée à Analyser': 
                case 'Idée': statusClass = 'bg-warning text-dark'; break;
                default: statusClass = 'bg-dark';
            }
            statusBadge.classList.add(statusClass);

            // 4.3 GESTION DE L'ILLUSTRATION
            const headerImageContainer = document.getElementById('project-header-image');
            headerImageContainer.innerHTML = '';
            if (project.image_id && project.image_id !== 'images/placeholder.jpg') {
                headerImageContainer.innerHTML = `<img src="${project.image_id}" alt="Illustration du projet ${project.nom}" class="header-illustration">`;
            } else {
                headerImageContainer.innerHTML = `
                    <div class="header-illustration-placeholder">
                        <i class="${project.icon || 'fas fa-rocket'} fa-4x mb-3"></i>
                        <p class="mb-0">Aucune illustration fournie</p>
                    </div>
                `;
            }

            // 5. GESTION DE LA PROGRESSION
            const progressBarFill = document.getElementById('progress-bar-fill');
            const progressBarText = document.getElementById('progress-bar-text');
            const progression = project.progression;
            
            progressBarFill.style.width = `${progression}%`;
            progressBarFill.setAttribute('aria-valuenow', progression);
            progressBarText.textContent = `${progression}%`;

            let barClass = 'bg-secondary';
            if (progression === 100) { barClass = 'bg-success'; }
            else if (progression > 60) { barClass = 'bg-info'; }
            else if (progression > 0) { barClass = 'bg-primary'; }
            
            progressBarFill.classList.add(barClass);

            // 6. GESTION DE L'ÉQUIPE
            const teamListContainer = document.getElementById('team-members-list');
            teamListContainer.innerHTML = '';
            
            project.equipe.forEach(member => {
                const isResponsible = member.initiales === project.responsable;
                
                // Définir la première lettre pour la couleur de l'avatar. 
                // Utilise la première initiale ou 'À' si "À définir"
                const avatarInitial = (member.initiales === "A DEFINIR" ? 'À' : member.initiales.charAt(0)).toUpperCase();
                
                const memberHtml = `
                    <div class="team-member d-flex align-items-center mb-3">
                        <div class="avatar" data-initials="${avatarInitial}">${member.initiales}</div>
                        <div>
                            <strong class="text-dark">${member.nom}</strong>
                            <div class="role small text-muted">${member.role} ${isResponsible ? ' (Responsable Principal)' : ''}</div>
                        </div>
                    </div>
                `;
                teamListContainer.innerHTML += memberHtml;
            });

            // 7. GESTION DES MOTS-CLÉS
            const keywordsListContainer = document.getElementById('keywords-list');
            keywordsListContainer.innerHTML = '';

            project.mots_cles.forEach(keyword => {
                const keywordHtml = `<span class="badge rounded-pill bg-secondary me-2 mb-1">${keyword}</span>`;
                keywordsListContainer.innerHTML += keywordHtml;
            });
        }

        window.onload = loadProjectDetails;
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
